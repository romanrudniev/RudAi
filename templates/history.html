{% extends 'base.html' %}
{% block title %}–Ü—Å—Ç–æ—Ä—ñ—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ–π{% endblock %}

{% block content %}
<div class="container">
    <h2>–í–∞—à–∞ —ñ—Å—Ç–æ—Ä—ñ—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ–π</h2>
    {% if history %}
        {% for item in history %}
            <div class="history-item">
                <p><strong>üïí {{ item.timestamp|date:"Y-m-d H:i" }}</strong></p>
                <p><strong>–ú–æ–¥–µ–ª—å:</strong> {{ item.model_used }}</p>
                <p><strong>–ó–∞–ø–∏—Ç:</strong> {{ item.prompt }}</p>

                {% if item.response_text %}
                    <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å:</strong> {{ item.response_text }}</p>
                {% endif %}

                {% if item.response_image_url %}
                    <img src="{{ item.response_image_url }}" alt="–ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è" style="max-width:300px;">
                {% endif %}
                <hr>
            </div>
        {% endfor %}
    {% else %}
        <p>–£ –≤–∞—Å —â–µ –Ω–µ–º–∞—î –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤.</p>
    {% endif %}
</div>
{% endblock %}
